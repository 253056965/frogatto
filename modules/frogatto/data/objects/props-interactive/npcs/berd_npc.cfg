{
id: "berd_npc",
prototype: ["standing_npc"],
solid_dimensions: ["npc"],
solid_area: [9,10,29,32],

#make it so if he is flying and becomes inactive and then active again,
#he will disappear.
on_become_active: "if(animation != 'stand' and cycle > 200, die())",
on_create: "",
on_collide_feet: "[animation('stand'),set(velocity_x,0),fire_event('landed')]",
on_flap: "if(velocity_y > -800,add(velocity_y,-400))",
on_end_fly_up_anim: "animation('fly_up')",
on_end_fly_down_anim: "animation('fly_down')",
on_end_perch_anim: "animation('perch')",
on_end_perched_flap_anim: "animation('perched_flap')",
animation: [
	{
		"@base": true,
		image: "npc/berd.png",
		pad: 3,
		accel_y: 80,
		interact_area: "all",
		
	},
	{
		duplicates: 3,
		id: "stand",
		rect: [2,2,37,37],
		duration: 7,
		frames: 3,
		reverse: true,
		play_backwards: true,
	},
	{
		id: "stand",
		rect: [80,2,115,37],
		duration: 7,
		frames: 3,
		reverse: true,
	},
	{
		accel_y: 20,
		id: "fly_up",
		rect: [2,41,48,85],
		frames: 6,
		duration: 3,
		velocity_x: 300,
		events: "1:13:flap",
	},
	{
		accel_y: 50,
		id: "fly_down",
		rect: [2,41,48,85],
		frames: 6,
		duration: 3,
		velocity_x: 100,
		events: "1:13:flap",
	},
	
	{
		accel_y: 00,
		solid_area: null,
		id: "perch",
		rect: [2,41,48,85],
		frames: 3,
		reverse: true,
		duration: 20,
	},
	{
		accel_y: 00,
		solid_area: null,
		id: "perched_flap",
		rect: [2,41,48,85],
		frames: 6,
		duration: 3,
	},
	
],
}
