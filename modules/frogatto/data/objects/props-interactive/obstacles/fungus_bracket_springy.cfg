{
id: "fungus_bracket_springy",
platform_area: [0,16,63,17],
has_feet: false,
zorder: "@include data/zorders.cfg:exterior_decor",
properties: {
	springiness: 1,
	spring_amount: 3500,
	bounce_roundness: 120,
},
vars: {
	magnitude: 0,
},

on_process: "[ if(vars.magnitude > 0.5, set(vars.magnitude, vars.magnitude*0.98), set(vars.magnitude,0)),

if(magnitude > 0,(set(custom_draw,
		[0.0, 0.25, 0.5, 0.75, 1.0,
		 2.0, 2.25, 2.5, 2.75, 3.0,
		upper_edge, map(upper_edge, value * 0.60), map(upper_edge, value * 0.3), map(upper_edge, value * 0.05),still, 
		still, map(lower_edge, value * 0.05), map(lower_edge, value * 0.3), map(lower_edge, value * 0.60), lower_edge
		]))	where still = [0,0]
			where upper_edge = zip( [x2,mid_y],newPos, a-b)
			where lower_edge = zip( [x2,mid_y],newPos, a-b)

where newPos = (orbit(x,mid_y, sin(15*cycle)*magnitude, img_w)))]",


on_jumped_on: "[sound('Spring.ogg')]",
on_bounced_on: "[sound('Spring.ogg'),set(vars.magnitude,25)]",
editor_info: {
	category: "props",
},
animation: [
	{
		id: "normal",
		image: "props/fungus-bracket-springy.png",
		rect: [0,0,79,31],
		duration: 200,
	},
],
}