{
id: "platform",
hitpoints: 1,
surface_friction: 100,
platform_area: [0,0,48,1],
zorder: "@include data/zorder.cfg:interior_decor",
properties: {
	event: { type: "string", default:"''", editor_info: { type: "string" } },

	trigger_on: "commands :: fire_event('button_pressed')",
	trigger_off: "commands :: fire_event('button_released')",

	_x_bound: { type: "int", editor_info: { type: "x", value: "x" } },
	_x2_bound: { type: "int", editor_info: { type: "x", value: "x + img_w" } },
	_y_bound: { type: "int", editor_info: { type: "y", value: "y" } },
	_y2_bound: { type: "int", editor_info: { type: "y", value: "y + img_h" } },
	_move_speed: { type: "decimal", editor_info: { type: "decimal", value: "3", min_value: 0.0, max_value: 50.0 } },
},


#vars: {
#	move_speed: 3,
#	move_x1: 0,
#	move_x2: 0,
#	move_y1: 0,
#	move_y2: 0,
#},
on_start_level: "set(activation_area, [_x_bound - 100, _y_bound - 100, (_x2_bound - _x_bound) + 200, (_y2_bound - _y_bound) + 200])",
on_process: "[
	  [[set(midpoint_x, _x_bound + (img_w/2) * x_polarity + ((1000 + wave(cycle*_move_speed))*xdistance)/2000)] where xdistance = (_x2_bound - _x_bound) - img_w * x_polarity]
	  	where x_polarity = if(_x2_bound > _x_bound, 1, -1),
	  
	  [[set(midpoint_y, _y_bound + (img_h/2) * y_polarity + ((1000 + wave(cycle*_move_speed))*ydistance)/2000)] where ydistance = (_y2_bound - _y_bound) - img_h * y_polarity]
		where y_polarity = if(_y2_bound > _y_bound, 1, -1)
]",
editor_info: {
	category: "platforms",
},
}
