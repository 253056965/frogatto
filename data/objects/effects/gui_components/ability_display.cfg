//Show the currently selected ability, such as 'tongue' or 'firebreath'.
{
	id: "ability_display",
	is_strict: true,
	use_absolute_screen_coordinates: true,
	serializable: false,
	
	zorder: "@include data/zorder.cfg:in_front_of_everything",

	properties: {
		target: "obj frogatto_playable <- level.player",
		super_mode_active: "true",
		
		graphic: {
			type: "custom_obj", 
			init: "object('${me.type}.graphic',0,0,1, {x:0,y:0})",
		},
	},
	
	on_create: "[add_object(graphic)]",
	

	on_process: "[
		set(graphic.animation, target.current_ability_name),
		set(graphic.brightness, 255/if(mana.ready,1,3)),
		if(mana.ready and mana.super, set(graphic.brightness, (cycle%3+1)*255/2)),
	] where mana = target.current_mana_availability()",
	
	animation: {
		id: "bg", //black bg, goes behind overlay
		image: "gui/hud3.png",
		rect: [80,0,127,47],
	},
	
	object_type: [{
		id: "graphic",
		is_strict: true,
		use_absolute_screen_coordinates: true,
		serializable: false,
		zorder: "@include data/zorder.cfg:in_front_of_everything",
		zsub_order: -1,
		
		animation: [{
			"@base": true,
			image: "gui/hud4.png",
		},
		{
			id: "tongue",
			rect: [  0, 0, 39,39],
		}, {
			id: "firebreath",
			rect: [ 42, 0, 81,39],
		}, {
			id: "energyshot",
			rect: [ 84, 0,123,39],
		}, {
			id: "homingshot",
			rect: [126, 0,165,39],
		}, {
			id: "acidbreath",
			rect: [168, 0,207,39],
		}],
	},{
		id: "super",
		is_strict: true,
		use_absolute_screen_coordinates: true,
		serializable: false,
		zorder: "@include data/zorder.cfg:in_front_of_everything",
		zsub_order: 1,
		
		animation: {
			id: "bg", //black bg, goes behind overlay
			image: "gui/hud3.png",
			rect: [32,67,79,114],
		},
		
		//shader goes here
	}],
}